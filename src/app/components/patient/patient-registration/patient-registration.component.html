<app-prelogin-toolbar></app-prelogin-toolbar>
<form #userForm="ngForm" class="content" role="main">
<mat-card>
  <div class="ui-registration-form" >
    <mat-card-header>
      <mat-card-title>Registration</mat-card-title>
      <mat-card-subtitle>For new patients</mat-card-subtitle>
      <mat-card-subtitle id="error-message" *ngIf="register">{{message}}</mat-card-subtitle>
      <mat-card-subtitle id="success-message" *ngIf="isRegistered">{{message}}</mat-card-subtitle>
      <mat-card-subtitle id="error-message" *ngIf="error">{{message}}</mat-card-subtitle>
    </mat-card-header>
    <br/>
    <mat-card-content>
      <mat-form-field appearance="fill" class="ui-full-width">
        <mat-label>Title</mat-label>
        <mat-select matInput [(ngModel)]="patient.title" [formControl]="titleFormControl">
          <mat-option *ngFor="let title of titles" [value]="title">
            {{title}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="titleFormControl.hasError('required')">
          Title is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="ui-half-width">
        <mat-label>First Name</mat-label>
        <input matInput [(ngModel)]="patient.firstName" name ="first_name" nameplaceholder="First Name" [formControl]="firstNameFormControl">
        <mat-error *ngIf="firstNameFormControl.hasError('required')">
          First Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="ui-half-width">
        <mat-label>Last Name</mat-label>
        <input matInput [(ngModel)]="patient.lastName" name ="last_name" placeholder="Last Name" [formControl]="lastNameFormControl">
        <mat-error *ngIf="lastNameFormControl.hasError('required')">
          Last Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="ui-half-width">
        <mat-label>Email</mat-label>
        <input type="email" matInput [(ngModel)]="patient.email" name ="email"[errorStateMatcher]="matcher"
               placeholder="Ex. itsme@mail.com" [formControl]="emailFormControl">
        <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
          Please enter a valid email address
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="ui-half-width">
        <mat-label>Contact Number</mat-label>
        <input type="tel" matInput [(ngModel)]="patient.contactNumber" name ="contact_number"[errorStateMatcher]="matcher"
               placeholder="001-999 999 9999" [formControl]="contactNumberFormControl">
        <mat-hint>Country Code-123-456-7890</mat-hint>
        <mat-error *ngIf="contactNumberFormControl.hasError('required')">
          Contact Number is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill" class="ui-half-width">
        <mat-label>Date of Birth</mat-label>
        <input matInput [(ngModel)]="patient.dob" name ="dob" [matDatepicker]="picker" [formControl]="dobFormControl">
     
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="dobFormControl.hasError('required')">
          Date of Birth is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-radio-group matInput [(ngModel)]="patient.gender" name ="gender" aria-label="Select an option" class="ui-half-width">
        <mat-radio-button value="M">Male</mat-radio-button>
        <mat-radio-button value="F">Female</mat-radio-button>
        <mat-radio-button value="O" checked>Others</mat-radio-button>
      </mat-radio-group>

      <mat-form-field class="ui-half-width">
        <mat-label>Password</mat-label>
        <input type="password" matInput [(ngModel)]="patient.password" name ="password" [errorStateMatcher]="matcher"
               placeholder="*******" [formControl]="passwordFormControl">
        <mat-error *ngIf="passwordFormControl.hasError('required')">
          Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="ui-half-width">
        <mat-label>Confirm Password</mat-label>
        <input type="password" matInput [errorStateMatcher]="matcher"
               placeholder="*******" [formControl]="confirmPasswordFormControl">
        <mat-error *ngIf="confirmPasswordFormControl.hasError('required')">
          Confirm Password is <strong>required</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="ui-full-width">
        <mat-label>Address</mat-label>
        <textarea matInput [(ngModel)]="patient.address" name ="address" placeholder="Address"></textarea>
      </mat-form-field>
   
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="registerPatient()" >Register</button>&nbsp;
      <span>Registered user? Login <a routerLink="/login">here</a></span>
    </mat-card-actions>
  </div>
</mat-card>
</form>

